@using cnu_cinema_practice.Components.Layout
@layout BookingLayout
@rendermode RenderMode.InteractiveServer

<HeadContent>
    <link rel="stylesheet" href="/css/checkout.css" />
    <link rel="stylesheet" href="/css/confirmation.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />
</HeadContent>

<div class="bg-ambience"></div>

<div class="confirmation-container animate-fade-up">
    <div class="glass-card">
        <div class="success-icon-wrapper">
            <i class="bi bi-check-lg success-icon"></i>
        </div>

        <h1 class="confirmation-title">Бронювання підтверджено!</h1>

        <div class="booking-id">
            Номер замовлення: <strong>#@BookingId</strong>
        </div>

        <p class="confirmation-message">
            Дякуємо за покупку!<br>
            Електронні квитки були надіслані на вашу пошту.<br>
            Будь ласка, покажіть їх при вході до кінозалу.
        </p>

        <div class="action-buttons">
            <a href="/" class="btn-home">
                <i class="bi bi-house"></i>
                На головну
            </a>

            <button class="btn-print" @onclick="PrintPage">
                <i class="bi bi-printer"></i>
                Роздрукувати квитки
            </button>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public int BookingId { get; set; }

    [Inject]
    public IJSRuntime JSRuntime { get; set; }

    private async Task PrintPage()
    {
        await JSRuntime.InvokeVoidAsync("print");
    }
}
